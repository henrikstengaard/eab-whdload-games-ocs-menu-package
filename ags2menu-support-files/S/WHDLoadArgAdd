.KEY whdloadarg/a
.BRA {
.KET }

; WHDLoad Argument Add Script
; ---------------------------
; Author: Henrik Noerfjand Stengaard
; Date: 2017-04-15
;
; This script adds whdloadarg to whdloadargs. 

; Skip, if whdloadargs exist and contains whdloadarg
IF EXISTS ENV:whdloadargs
  search ENV:whdloadargs "{whdloadarg}" >NIL:
  IF NOT WARN
    SKIP end
  ENDIF
ELSE
  ; Create whdloadargs, if it doesn't exist
  echo "" NOLINE >ENV:whdloadargs
ENDIF

; Get whdloadargs length
set whdloadargslength `wc -c <ENV:whdloadargs` 

; Add space, if whdloadargs is greater than 0
IF $whdloadargslength GT 0
  echo " " NOLINE >>ENV:whdloadargs
ENDIF 

; Add whdloadarg to whdloadargs
echo "{whdloadarg}" NOLINE >> ENV:whdloadargs

; End
LAB end